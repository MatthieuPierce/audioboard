(this.webpackJsonpaudioboard=this.webpackJsonpaudioboard||[]).push([[0],{26:function(e,n,t){},27:function(e,n,t){},32:function(e,n,t){},33:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(1),i=t(0),d=t.n(i),r=t(7),o=t.n(r),c=(t(26),t(27),t(8)),s=t(9),u=t(11),p=t(10),l=t(4),h="PLAY",j="STOP",b="FETCH_JSON_REQUEST",f="FETCH_JSON_SUCCESS",y="FETCH_JSON_FAILURE",O=function(){return{type:b}},v=function(){var e=function(e){if(!e.ok)throw Error(e.statusText);return e};return function(n){n(O),fetch("pads.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(e).then((function(e){return e.json()})).then((function(e){return n(function(e){return{type:f,payload:e}}(e)),e})).catch((function(e){return n(function(e){return{type:y,payload:e}}(e))}))}},g=t(3),P=(t(32),function(e){Object(u.a)(t,e);var n=Object(p.a)(t);function t(e){var a;return Object(c.a)(this,t),(a=n.call(this,e)).handlePlay=function(){a.setState({isPlaying:!0}),a.props.playPad(a.props.padId),a.audioRef.current.play()},a.handleKeyDown=function(e){e.key.toUpperCase()===a.props.padId.toUpperCase()&&a.handlePlay()},a.handleAudioEnd=function(){a.setState({isPlaying:!1}),a.props.stopPad(a.props.padId)},a.state={isPlaying:!1,bgColor:""},a.audioRef=d.a.createRef(),a.handlePlay=a.handlePlay.bind(Object(l.a)(a)),a.handleKeyDown=a.handleKeyDown.bind(Object(l.a)(a)),a.handleAudioEnd=a.handleAudioEnd.bind(Object(l.a)(a)),a}return Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillMount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props.padId;return Object(a.jsxs)("div",{className:"drum-pad ".concat(this.state.isPlaying?"playing":void 0),id:e,onClick:this.handlePlay,onKeyDown:this.handleKeyDown,style:this.props.padStyle,tabIndex:"0",children:[Object(a.jsx)("audio",{className:"clip",id:e,preload:"auto",ref:this.audioRef,src:"/audioboard"+this.props.audioSrc,onEnded:this.handleAudioEnd,onPause:this.handleAudioEnd,tabIndex:"0"}),Object(a.jsx)("header",{children:e})]})}}]),t}(d.a.Component)),m=Object(g.b)((function(e,n){return{activePad:e.activePad,loading:e.loading,audioSrc:e.pads.find((function(e){return e.padId===n.padId})).audioSrc}}),(function(e){return{playPad:function(n){return e(function(e){return{type:h,padId:e}}(n))},stopPad:function(n){return e(function(e){return{type:j,padId:e}}(n))}}}))(P),I=(t(33),function(e){Object(u.a)(t,e);var n=Object(p.a)(t);function t(){return Object(c.a)(this,t),n.apply(this,arguments)}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPads()}},{key:"render",value:function(){var e=this.props.pads.map((function(e){var n={background:"hsla("+e.padHue+", 65%, 45%, 1)"};return Object(a.jsx)(m,{padId:e.padId,padStyle:n},e.padId)}));return Object(a.jsx)("div",{id:"drum-machine-container",children:Object(a.jsxs)("div",{id:"drum-machine",children:[e,Object(a.jsx)("div",{id:"display",className:this.props.pads.some((function(e){return!0===e.isPlaying}))?"bg-playing":void 0,children:this.props.activeDescription?this.props.activeDescription:"Click or keyboard for hot takes from across the ages"})]})})}}]),t}(d.a.Component)),x=Object(g.b)((function(e){return{activePad:e.activePad,activeDescription:e.activeDescription,pads:e.pads,loading:e.loading,error:e.error}}),(function(e){return{fetchPads:function(){return e(v())}}}))(I),k=t(19),E=t.n(k);var S=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("header",{className:"App-header",children:Object(a.jsx)("h1",{children:"Bad Takes Audioboard"})}),Object(a.jsx)(x,{}),Object(a.jsx)(E.a,{})]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,40)).then((function(n){var t=n.getCLS,a=n.getFID,i=n.getFCP,d=n.getLCP,r=n.getTTFB;t(e),a(e),i(e),d(e),r(e)}))},D=t(5),w=t(2),A={activePad:"",activeDescription:"",loading:!1,error:"",pads:[]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case b:return Object(w.a)(Object(w.a)({},e),{},{loading:!0});case f:return Object(w.a)(Object(w.a)({},e),{},{pads:n.payload.map((function(e){var n=Math.ceil(0),t=Math.floor(360),a=Math.floor(Math.random()*(t-n+1)+n);return Object(w.a)(Object(w.a)({},e),{},{padHue:a,isPlaying:!1})})),loading:!1,error:""});case y:return Object(w.a)(Object(w.a)({},e),{},{loading:!1,pads:[],error:n.payload});case h:return Object(w.a)(Object(w.a)({},e),{},{activePad:n.padId,activeDescription:e.pads.find((function(e){return e.padId===n.padId})).description,pads:e.pads.map((function(e){return e.padId===n.padId?Object(w.a)(Object(w.a)({},e),{},{isPlaying:!0}):e}))});case j:return Object(w.a)(Object(w.a)({},e),{},{pads:e.pads.map((function(e){return e.padId===n.padId?Object(w.a)(Object(w.a)({},e),{},{isPlaying:!1}):e}))});default:return e}},F=t(20),M=Object(D.c)(T,Object(D.a)(F.a));o.a.render(Object(a.jsx)(d.a.StrictMode,{children:Object(a.jsx)(g.a,{store:M,children:Object(a.jsx)(S,{})})}),document.getElementById("root")),C()}},[[39,1,2]]]);
//# sourceMappingURL=main.d7b34a31.chunk.js.map